/*! For license information please see FileUploader-stories.95a69346.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkastra_ui=self.webpackChunkastra_ui||[]).push([[4119],{"./stories/FileUploader.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithCustomStyles:()=>WithCustomStyles,WithProgress:()=>WithProgress,__namedExportsOrder:()=>__namedExportsOrder,default:()=>FileUploader_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.9_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.9_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js");const Upload=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.379.0_react@18.3.1/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var Alert=__webpack_require__("./components/Alert/Alert.tsx"),ProgressBar=__webpack_require__("./components/ProgressBar/ProgressBar.tsx");function cov_2p60fhf7tb(){var path="/Users/ahmadrafidev/Developer/side-projects/web/astra/components/FileUploader/FileUploader.tsx",global=new Function("return this")(),gcv="__coverage__",coverageData={path:"/Users/ahmadrafidev/Developer/side-projects/web/astra/components/FileUploader/FileUploader.tsx",statementMap:{0:{start:{line:12,column:25},end:{line:147,column:1}},1:{start:{line:16,column:40},end:{line:16,column:55}},2:{start:{line:17,column:30},end:{line:17,column:44}},3:{start:{line:18,column:48},end:{line:18,column:59}},4:{start:{line:19,column:21},end:{line:19,column:33}},5:{start:{line:20,column:23},end:{line:28,column:10}},6:{start:{line:21,column:8},end:{line:21,column:27}},7:{start:{line:22,column:8},end:{line:22,column:28}},8:{start:{line:23,column:8},end:{line:27,column:9}},9:{start:{line:24,column:12},end:{line:24,column:32}},10:{start:{line:25,column:15},end:{line:27,column:9}},11:{start:{line:26,column:12},end:{line:26,column:33}},12:{start:{line:29,column:27},end:{line:43,column:6}},13:{start:{line:30,column:23},end:{line:30,column:24}},14:{start:{line:31,column:25},end:{line:40,column:15}},15:{start:{line:32,column:12},end:{line:32,column:27}},16:{start:{line:33,column:12},end:{line:33,column:40}},17:{start:{line:34,column:12},end:{line:36,column:13}},18:{start:{line:35,column:16},end:{line:35,column:43}},19:{start:{line:37,column:12},end:{line:39,column:13}},20:{start:{line:38,column:16},end:{line:38,column:40}},21:{start:{line:44,column:24},end:{line:62,column:6}},22:{start:{line:45,column:21},end:{line:45,column:29}},23:{start:{line:46,column:8},end:{line:49,column:9}},24:{start:{line:47,column:12},end:{line:47,column:64}},25:{start:{line:48,column:12},end:{line:48,column:19}},26:{start:{line:50,column:8},end:{line:53,column:9}},27:{start:{line:50,column:39},end:{line:50,column:60}},28:{start:{line:51,column:12},end:{line:51,column:47}},29:{start:{line:52,column:12},end:{line:52,column:19}},30:{start:{line:54,column:8},end:{line:54,column:23}},31:{start:{line:55,column:8},end:{line:55,column:27}},32:{start:{line:56,column:8},end:{line:56,column:29}},33:{start:{line:63,column:23},end:{line:72,column:6}},34:{start:{line:64,column:8},end:{line:64,column:27}},35:{start:{line:65,column:8},end:{line:65,column:28}},36:{start:{line:66,column:8},end:{line:66,column:29}},37:{start:{line:67,column:8},end:{line:69,column:9}},38:{start:{line:68,column:12},end:{line:68,column:46}},39:{start:{line:73,column:25},end:{line:80,column:6}},40:{start:{line:74,column:8},end:{line:74,column:27}},41:{start:{line:75,column:8},end:{line:77,column:9}},42:{start:{line:76,column:12},end:{line:76,column:40}},43:{start:{line:81,column:26},end:{line:84,column:10}},44:{start:{line:83,column:8},end:{line:83,column:125}},45:{start:{line:85,column:4},end:{line:146,column:7}},46:{start:{line:148,column:0},end:{line:148,column:42}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:25},end:{line:12,column:26}},loc:{start:{line:15,column:75},end:{line:147,column:1}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:20,column:35},end:{line:20,column:36}},loc:{start:{line:20,column:40},end:{line:28,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:29,column:39},end:{line:29,column:40}},loc:{start:{line:29,column:47},end:{line:41,column:5}},line:29},3:{name:"(anonymous_3)",decl:{start:{line:31,column:37},end:{line:31,column:38}},loc:{start:{line:31,column:41},end:{line:40,column:9}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:44,column:36},end:{line:44,column:37}},loc:{start:{line:44,column:45},end:{line:57,column:5}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:50,column:31},end:{line:50,column:32}},loc:{start:{line:50,column:39},end:{line:50,column:60}},line:50},6:{name:"(anonymous_6)",decl:{start:{line:63,column:35},end:{line:63,column:36}},loc:{start:{line:63,column:40},end:{line:70,column:5}},line:63},7:{name:"(anonymous_7)",decl:{start:{line:73,column:37},end:{line:73,column:38}},loc:{start:{line:73,column:42},end:{line:78,column:5}},line:73},8:{name:"(anonymous_8)",decl:{start:{line:81,column:38},end:{line:81,column:39}},loc:{start:{line:81,column:42},end:{line:84,column:5}},line:81}},branchMap:{0:{loc:{start:{line:12,column:71},end:{line:12,column:84}},type:"default-arg",locations:[{start:{line:12,column:83},end:{line:12,column:84}}],line:12},1:{loc:{start:{line:12,column:86},end:{line:15,column:1}},type:"default-arg",locations:[{start:{line:12,column:101},end:{line:15,column:1}}],line:12},2:{loc:{start:{line:15,column:36},end:{line:15,column:47}},type:"default-arg",locations:[{start:{line:15,column:45},end:{line:15,column:47}}],line:15},3:{loc:{start:{line:15,column:49},end:{line:15,column:70}},type:"default-arg",locations:[{start:{line:15,column:68},end:{line:15,column:70}}],line:15},4:{loc:{start:{line:23,column:8},end:{line:27,column:9}},type:"if",locations:[{start:{line:23,column:8},end:{line:27,column:9}},{start:{line:25,column:15},end:{line:27,column:9}}],line:23},5:{loc:{start:{line:23,column:12},end:{line:23,column:59}},type:"binary-expr",locations:[{start:{line:23,column:12},end:{line:23,column:34}},{start:{line:23,column:38},end:{line:23,column:59}}],line:23},6:{loc:{start:{line:25,column:15},end:{line:27,column:9}},type:"if",locations:[{start:{line:25,column:15},end:{line:27,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25},7:{loc:{start:{line:34,column:12},end:{line:36,column:13}},type:"if",locations:[{start:{line:34,column:12},end:{line:36,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},8:{loc:{start:{line:37,column:12},end:{line:39,column:13}},type:"if",locations:[{start:{line:37,column:12},end:{line:39,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},9:{loc:{start:{line:46,column:8},end:{line:49,column:9}},type:"if",locations:[{start:{line:46,column:8},end:{line:49,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},10:{loc:{start:{line:50,column:8},end:{line:53,column:9}},type:"if",locations:[{start:{line:50,column:8},end:{line:53,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:50},11:{loc:{start:{line:67,column:8},end:{line:69,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:69,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67},12:{loc:{start:{line:67,column:12},end:{line:67,column:59}},type:"binary-expr",locations:[{start:{line:67,column:12},end:{line:67,column:32}},{start:{line:67,column:36},end:{line:67,column:59}}],line:67},13:{loc:{start:{line:75,column:8},end:{line:77,column:9}},type:"if",locations:[{start:{line:75,column:8},end:{line:77,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},14:{loc:{start:{line:75,column:12},end:{line:75,column:47}},type:"binary-expr",locations:[{start:{line:75,column:12},end:{line:75,column:26}},{start:{line:75,column:30},end:{line:75,column:47}}],line:75},15:{loc:{start:{line:83,column:8},end:{line:83,column:124}},type:"cond-expr",locations:[{start:{line:83,column:90},end:{line:83,column:96}},{start:{line:83,column:99},end:{line:83,column:124}}],line:83},16:{loc:{start:{line:83,column:8},end:{line:83,column:87}},type:"binary-expr",locations:[{start:{line:83,column:8},end:{line:83,column:55}},{start:{line:83,column:59},end:{line:83,column:87}}],line:83},17:{loc:{start:{line:86,column:59},end:{line:86,column:81}},type:"binary-expr",locations:[{start:{line:86,column:59},end:{line:86,column:75}},{start:{line:86,column:79},end:{line:86,column:81}}],line:86},18:{loc:{start:{line:95,column:12},end:{line:95,column:143}},type:"cond-expr",locations:[{start:{line:95,column:25},end:{line:95,column:53}},{start:{line:95,column:56},end:{line:95,column:143}}],line:95},19:{loc:{start:{line:96,column:12},end:{line:96,column:33}},type:"binary-expr",locations:[{start:{line:96,column:12},end:{line:96,column:27}},{start:{line:96,column:31},end:{line:96,column:33}}],line:96},20:{loc:{start:{line:97,column:12},end:{line:97,column:57}},type:"cond-expr",locations:[{start:{line:97,column:25},end:{line:97,column:52}},{start:{line:97,column:55},end:{line:97,column:57}}],line:97},21:{loc:{start:{line:97,column:25},end:{line:97,column:52}},type:"binary-expr",locations:[{start:{line:97,column:25},end:{line:97,column:46}},{start:{line:97,column:50},end:{line:97,column:52}}],line:97},22:{loc:{start:{line:113,column:86},end:{line:113,column:109}},type:"binary-expr",locations:[{start:{line:113,column:86},end:{line:113,column:103}},{start:{line:113,column:107},end:{line:113,column:109}}],line:113},23:{loc:{start:{line:116,column:107},end:{line:116,column:132}},type:"binary-expr",locations:[{start:{line:116,column:107},end:{line:116,column:126}},{start:{line:116,column:130},end:{line:116,column:132}}],line:116},24:{loc:{start:{line:123,column:12},end:{line:123,column:37}},type:"binary-expr",locations:[{start:{line:123,column:12},end:{line:123,column:31}},{start:{line:123,column:35},end:{line:123,column:37}}],line:123},25:{loc:{start:{line:129,column:12},end:{line:137,column:14}},type:"binary-expr",locations:[{start:{line:129,column:12},end:{line:129,column:30}},{start:{line:129,column:48},end:{line:137,column:14}}],line:129},26:{loc:{start:{line:138,column:12},end:{line:144,column:14}},type:"binary-expr",locations:[{start:{line:138,column:12},end:{line:138,column:17}},{start:{line:138,column:35},end:{line:144,column:14}}],line:138}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0],1:[0],2:[0],3:[0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0]},inputSourceMap:{version:3,sources:["/Users/ahmadrafidev/Developer/side-projects/web/astra/components/FileUploader/FileUploader.tsx"],sourcesContent:["import React, { useState, useRef, useCallback } from 'react';\nimport { Upload } from 'lucide-react';\n\nimport { Alert, AlertContent } from '../Alert/Alert';\nimport ProgressBar from '../ProgressBar/ProgressBar';\n\n/**\n * Props for the FileUploader component.\n * \n * @typedef {Object} FileUploaderProps\n * @property {string} [className] - Additional class names for custom styling.\n * @property {(file: File) => void} onFileSelect - Callback when a file is selected.\n * @property {(progress: number) => void} [onUploadProgress] - Callback for upload progress.\n * @property {number} [maxSizeMB=5] - Maximum file size in megabytes.\n * @property {string[]} [allowedTypes=['image/*', 'application/pdf']] - Allowed file types.\n * @property {string} [label] - Label for the file uploader.\n * @property {string} [dropzoneText='Drop files here to upload'] - Text displayed in the dropzone area.\n * @property {string} [browseText='Browse files'] - Text displayed on the browse button.\n * @property {Object} [styles] - Custom styles for different parts of the component.\n * @property {string} [styles.container] - Custom styles for the container.\n * @property {string} [styles.dropzone] - Custom styles for the dropzone.\n * @property {string} [styles.dropzoneActive] - Custom styles for the active dropzone.\n * @property {string} [styles.uploadIcon] - Custom styles for the upload icon.\n * @property {string} [styles.dropzoneText] - Custom styles for the dropzone text.\n * @property {string} [styles.browseButton] - Custom styles for the browse button.\n * @property {Partial<React.ComponentProps<typeof ProgressBar>>} [progressBarProps] - Additional props for the progress bar.\n */\nexport interface FileUploaderProps {\n  className?: string;\n  onFileSelect: (file: File) => void;\n  onUploadProgress?: (progress: number) => void;\n  maxSizeMB?: number;\n  allowedTypes?: string[];\n  label?: string;\n  dropzoneText?: string;\n  browseText?: string;\n  styles?: {\n    container?: string;\n    dropzone?: string;\n    dropzoneActive?: string;\n    uploadIcon?: string;\n    dropzoneText?: string;\n    browseButton?: string;\n  };\n  progressBarProps?: Partial<React.ComponentProps<typeof ProgressBar>>;\n}\n\n/**\n * FileUploader component for selecting and uploading files with progress indication.\n * \n * @component\n * @param {FileUploaderProps} props - Props for the FileUploader component.\n * @returns {JSX.Element} The rendered FileUploader component.\n */\nconst FileUploader: React.FC<FileUploaderProps> = ({\n  className,\n  onFileSelect,\n  onUploadProgress,\n  maxSizeMB = 5,\n  allowedTypes = ['image/*', 'application/pdf'],\n  label,\n  dropzoneText,\n  browseText,\n  styles = {},\n  progressBarProps = {},\n}) => {\n  const [dragActive, setDragActive] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [uploadProgress, setUploadProgress] = useState<number>(0);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleDrag = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  }, []);\n\n  const simulateUpload = useCallback((file: File) => {\n    let progress = 0;\n    const interval = setInterval(() => {\n      progress += 10;\n      setUploadProgress(progress);\n      if (onUploadProgress) {\n        onUploadProgress(progress);\n      }\n      if (progress >= 100) {\n        clearInterval(interval);\n      }\n    }, 500);\n  }, [onUploadProgress]);\n\n  const handleFiles = useCallback((files: FileList) => {\n    const file = files[0];\n    if (file.size > maxSizeMB * 1024 * 1024) {\n      setError(`File size exceeds ${maxSizeMB}MB limit.`);\n      return;\n    }\n    if (!allowedTypes.some(type => file.type.match(type))) {\n      setError('File type not allowed.');\n      return;\n    }\n    setError(null);\n    onFileSelect(file);\n    simulateUpload(file);\n  }, [maxSizeMB, allowedTypes, onFileSelect, simulateUpload]);\n\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      handleFiles(e.dataTransfer.files);\n    }\n  }, [handleFiles]);\n\n  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    e.preventDefault();\n    if (e.target.files && e.target.files[0]) {\n      handleFiles(e.target.files);\n    }\n  }, [handleFiles]);\n\n  const onButtonClick = useCallback(() => {\n    inputRef.current?.click();\n  }, []);\n\n  return (\n    <div className={`w-full max-w-sm mx-auto ${className} ${styles.container || ''}`}>\n      <label className=\"block text-base font-medium text-gray-100 dark:text-gray-900 mb-2\">{label}</label>\n      <div\n        className={`\n          border-2 rounded-2xl p-4 text-center cursor-pointer transition-colors bg-gray-100 dark:bg-gray-900\n          ${dragActive ? 'border-blue-400 bg-blue-50' : 'border-gray-300 hover:border-gray-400 dark:border-gray-800 dark:hover:border-gray-700'}\n          ${styles.dropzone || ''}\n          ${dragActive ? styles.dropzoneActive || '' : ''}\n        `}\n        onDragEnter={handleDrag}\n        onDragLeave={handleDrag}\n        onDragOver={handleDrag}\n        onDrop={handleDrop}\n        onClick={onButtonClick}\n      >\n        <input\n          ref={inputRef}\n          type=\"file\"\n          className=\"hidden\"\n          onChange={handleChange}\n          accept={allowedTypes.join(',')}\n        />\n        <Upload className={`mx-auto h-8 w-8 text-gray-900 dark:text-gray-50 ${styles.uploadIcon || ''}`} />\n        <p className={`my-2 text-base font-sans font-medium text-gray-900 dark:text-gray-50 ${styles.dropzoneText || ''}`}>{dropzoneText}</p>\n        <button className={`\n          my-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-full shadow-sm\n          text-gray-100 bg-gray-900 dark:bg-gray-100 dark:text-gray-950 hover:bg-gray-800 dark:hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\n          ${styles.browseButton || ''}\n        `}>\n          {browseText}\n        </button>\n      </div>\n      {uploadProgress > 0 && (\n        <ProgressBar\n          progress={uploadProgress}\n          className=\"mt-2\"\n          size=\"md\"\n          showLabel\n          labelPosition=\"outside\"\n          animate\n          {...progressBarProps}\n        />\n      )}\n      {error && (\n        <Alert type=\"error\" className=\"mt-2\">\n          <AlertContent>{error}</AlertContent>\n        </Alert>\n      )}\n    </div>\n  );\n};\n\nFileUploader.displayName = \"FileUploader\";\nexport default FileUploader;\n"],names:["React","useState","useRef","useCallback","Upload","Alert","AlertContent","ProgressBar","FileUploader","className","onFileSelect","onUploadProgress","maxSizeMB","allowedTypes","label","dropzoneText","browseText","styles","progressBarProps","dragActive","setDragActive","error","setError","uploadProgress","setUploadProgress","inputRef","handleDrag","e","preventDefault","stopPropagation","type","simulateUpload","file","progress","interval","setInterval","clearInterval","handleFiles","files","size","some","match","handleDrop","dataTransfer","handleChange","target","onButtonClick","current","click","div","container","dropzone","dropzoneActive","onDragEnter","onDragLeave","onDragOver","onDrop","onClick","input","ref","onChange","accept","join","uploadIcon","p","button","browseButton","showLabel","labelPosition","animate","displayName"],mappings:"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"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2df4fca4b7796fc47d57a285aacb42668e060f80"},coverage=global[gcv]||(global[gcv]={});coverage[path]&&"2df4fca4b7796fc47d57a285aacb42668e060f80"===coverage[path].hash||(coverage[path]=coverageData);var actualCoverage=coverage[path];return cov_2p60fhf7tb=function(){return actualCoverage},actualCoverage}cov_2p60fhf7tb(),cov_2p60fhf7tb().s[0]++;const FileUploader=({className,onFileSelect,onUploadProgress,maxSizeMB=(cov_2p60fhf7tb().b[0][0]++,5),allowedTypes=(cov_2p60fhf7tb().b[1][0]++,["image/*","application/pdf"]),label,dropzoneText,browseText,styles=(cov_2p60fhf7tb().b[2][0]++,{}),progressBarProps=(cov_2p60fhf7tb().b[3][0]++,{})})=>{cov_2p60fhf7tb().f[0]++;const[dragActive,setDragActive]=(cov_2p60fhf7tb().s[1]++,(0,react.useState)(!1)),[error,setError]=(cov_2p60fhf7tb().s[2]++,(0,react.useState)(null)),[uploadProgress,setUploadProgress]=(cov_2p60fhf7tb().s[3]++,(0,react.useState)(0)),inputRef=(cov_2p60fhf7tb().s[4]++,(0,react.useRef)(null)),handleDrag=(cov_2p60fhf7tb().s[5]++,(0,react.useCallback)((e=>{cov_2p60fhf7tb().f[1]++,cov_2p60fhf7tb().s[6]++,e.preventDefault(),cov_2p60fhf7tb().s[7]++,e.stopPropagation(),cov_2p60fhf7tb().s[8]++,cov_2p60fhf7tb().b[5][0]++,"dragenter"===e.type||(cov_2p60fhf7tb().b[5][1]++,"dragover"===e.type)?(cov_2p60fhf7tb().b[4][0]++,cov_2p60fhf7tb().s[9]++,setDragActive(!0)):(cov_2p60fhf7tb().b[4][1]++,cov_2p60fhf7tb().s[10]++,"dragleave"===e.type?(cov_2p60fhf7tb().b[6][0]++,cov_2p60fhf7tb().s[11]++,setDragActive(!1)):cov_2p60fhf7tb().b[6][1]++)}),[])),simulateUpload=(cov_2p60fhf7tb().s[12]++,(0,react.useCallback)((file=>{cov_2p60fhf7tb().f[2]++;let progress=(cov_2p60fhf7tb().s[13]++,0);const interval=(cov_2p60fhf7tb().s[14]++,setInterval((()=>{cov_2p60fhf7tb().f[3]++,cov_2p60fhf7tb().s[15]++,progress+=10,cov_2p60fhf7tb().s[16]++,setUploadProgress(progress),cov_2p60fhf7tb().s[17]++,onUploadProgress?(cov_2p60fhf7tb().b[7][0]++,cov_2p60fhf7tb().s[18]++,onUploadProgress(progress)):cov_2p60fhf7tb().b[7][1]++,cov_2p60fhf7tb().s[19]++,progress>=100?(cov_2p60fhf7tb().b[8][0]++,cov_2p60fhf7tb().s[20]++,clearInterval(interval)):cov_2p60fhf7tb().b[8][1]++}),500))}),[onUploadProgress])),handleFiles=(cov_2p60fhf7tb().s[21]++,(0,react.useCallback)((files=>{cov_2p60fhf7tb().f[4]++;const file=(cov_2p60fhf7tb().s[22]++,files[0]);return cov_2p60fhf7tb().s[23]++,file.size>1024*maxSizeMB*1024?(cov_2p60fhf7tb().b[9][0]++,cov_2p60fhf7tb().s[24]++,setError(`File size exceeds ${maxSizeMB}MB limit.`),void cov_2p60fhf7tb().s[25]++):(cov_2p60fhf7tb().b[9][1]++,cov_2p60fhf7tb().s[26]++,allowedTypes.some((type=>(cov_2p60fhf7tb().f[5]++,cov_2p60fhf7tb().s[27]++,file.type.match(type))))?(cov_2p60fhf7tb().b[10][1]++,cov_2p60fhf7tb().s[30]++,setError(null),cov_2p60fhf7tb().s[31]++,onFileSelect(file),cov_2p60fhf7tb().s[32]++,void simulateUpload(file)):(cov_2p60fhf7tb().b[10][0]++,cov_2p60fhf7tb().s[28]++,setError("File type not allowed."),void cov_2p60fhf7tb().s[29]++))}),[maxSizeMB,allowedTypes,onFileSelect,simulateUpload])),handleDrop=(cov_2p60fhf7tb().s[33]++,(0,react.useCallback)((e=>{cov_2p60fhf7tb().f[6]++,cov_2p60fhf7tb().s[34]++,e.preventDefault(),cov_2p60fhf7tb().s[35]++,e.stopPropagation(),cov_2p60fhf7tb().s[36]++,setDragActive(!1),cov_2p60fhf7tb().s[37]++,cov_2p60fhf7tb().b[12][0]++,e.dataTransfer.files&&(cov_2p60fhf7tb().b[12][1]++,e.dataTransfer.files[0])?(cov_2p60fhf7tb().b[11][0]++,cov_2p60fhf7tb().s[38]++,handleFiles(e.dataTransfer.files)):cov_2p60fhf7tb().b[11][1]++}),[handleFiles])),handleChange=(cov_2p60fhf7tb().s[39]++,(0,react.useCallback)((e=>{cov_2p60fhf7tb().f[7]++,cov_2p60fhf7tb().s[40]++,e.preventDefault(),cov_2p60fhf7tb().s[41]++,cov_2p60fhf7tb().b[14][0]++,e.target.files&&(cov_2p60fhf7tb().b[14][1]++,e.target.files[0])?(cov_2p60fhf7tb().b[13][0]++,cov_2p60fhf7tb().s[42]++,handleFiles(e.target.files)):cov_2p60fhf7tb().b[13][1]++}),[handleFiles])),onButtonClick=(cov_2p60fhf7tb().s[43]++,(0,react.useCallback)((()=>{var _inputRef_current;cov_2p60fhf7tb().f[8]++,cov_2p60fhf7tb().s[44]++,cov_2p60fhf7tb().b[16][0]++,null===(_inputRef_current=inputRef.current)||(cov_2p60fhf7tb().b[16][1]++,void 0===_inputRef_current)?cov_2p60fhf7tb().b[15][0]++:(cov_2p60fhf7tb().b[15][1]++,_inputRef_current.click())}),[]));return cov_2p60fhf7tb().s[45]++,(0,jsx_runtime.jsxs)("div",{className:`w-full max-w-sm mx-auto ${className} ${cov_2p60fhf7tb().b[17][0]++,styles.container||(cov_2p60fhf7tb().b[17][1]++,"")}`,children:[(0,jsx_runtime.jsx)("label",{className:"block text-base font-medium text-gray-100 dark:text-gray-900 mb-2",children:label}),(0,jsx_runtime.jsxs)("div",{className:`\n          border-2 rounded-2xl p-4 text-center cursor-pointer transition-colors bg-gray-100 dark:bg-gray-900\n          ${dragActive?(cov_2p60fhf7tb().b[18][0]++,"border-blue-400 bg-blue-50"):(cov_2p60fhf7tb().b[18][1]++,"border-gray-300 hover:border-gray-400 dark:border-gray-800 dark:hover:border-gray-700")}\n          ${cov_2p60fhf7tb().b[19][0]++,styles.dropzone||(cov_2p60fhf7tb().b[19][1]++,"")}\n          ${dragActive?(cov_2p60fhf7tb().b[20][0]++,cov_2p60fhf7tb().b[21][0]++,styles.dropzoneActive||(cov_2p60fhf7tb().b[21][1]++,"")):(cov_2p60fhf7tb().b[20][1]++,"")}\n        `,onDragEnter:handleDrag,onDragLeave:handleDrag,onDragOver:handleDrag,onDrop:handleDrop,onClick:onButtonClick,children:[(0,jsx_runtime.jsx)("input",{ref:inputRef,type:"file",className:"hidden",onChange:handleChange,accept:allowedTypes.join(",")}),(0,jsx_runtime.jsx)(Upload,{className:`mx-auto h-8 w-8 text-gray-900 dark:text-gray-50 ${cov_2p60fhf7tb().b[22][0]++,styles.uploadIcon||(cov_2p60fhf7tb().b[22][1]++,"")}`}),(0,jsx_runtime.jsx)("p",{className:`my-2 text-base font-sans font-medium text-gray-900 dark:text-gray-50 ${cov_2p60fhf7tb().b[23][0]++,styles.dropzoneText||(cov_2p60fhf7tb().b[23][1]++,"")}`,children:dropzoneText}),(0,jsx_runtime.jsx)("button",{className:`\n          my-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-full shadow-sm\n          text-gray-100 bg-gray-900 dark:bg-gray-100 dark:text-gray-950 hover:bg-gray-800 dark:hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\n          ${cov_2p60fhf7tb().b[24][0]++,styles.browseButton||(cov_2p60fhf7tb().b[24][1]++,"")}\n        `,children:browseText})]}),(cov_2p60fhf7tb().b[25][0]++,uploadProgress>0&&(cov_2p60fhf7tb().b[25][1]++,(0,jsx_runtime.jsx)(ProgressBar.A,{progress:uploadProgress,className:"mt-2",size:"md",showLabel:!0,labelPosition:"outside",animate:!0,...progressBarProps}))),(cov_2p60fhf7tb().b[26][0]++,error&&(cov_2p60fhf7tb().b[26][1]++,(0,jsx_runtime.jsx)(Alert.Fc,{type:"error",className:"mt-2",children:(0,jsx_runtime.jsx)(Alert.uX,{children:error})})))]})};cov_2p60fhf7tb().s[46]++,FileUploader.displayName="FileUploader";const FileUploader_FileUploader=FileUploader;try{FileUploader.displayName="FileUploader",FileUploader.__docgenInfo={description:"FileUploader component for selecting and uploading files with progress indication.",displayName:"FileUploader",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onFileSelect:{defaultValue:null,description:"",name:"onFileSelect",required:!0,type:{name:"(file: File) => void"}},onUploadProgress:{defaultValue:null,description:"",name:"onUploadProgress",required:!1,type:{name:"((progress: number) => void)"}},maxSizeMB:{defaultValue:{value:"5"},description:"",name:"maxSizeMB",required:!1,type:{name:"number"}},allowedTypes:{defaultValue:{value:"['image/*', 'application/pdf']"},description:"",name:"allowedTypes",required:!1,type:{name:"string[]"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},dropzoneText:{defaultValue:null,description:"",name:"dropzoneText",required:!1,type:{name:"string"}},browseText:{defaultValue:null,description:"",name:"browseText",required:!1,type:{name:"string"}},styles:{defaultValue:{value:"{}"},description:"",name:"styles",required:!1,type:{name:"{ container?: string; dropzone?: string; dropzoneActive?: string | undefined; uploadIcon?: string | undefined; dropzoneText?: string | undefined; browseButton?: string | undefined; } | undefined"}},progressBarProps:{defaultValue:{value:"{}"},description:"",name:"progressBarProps",required:!1,type:{name:"Partial<ProgressBarProps>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/FileUploader/FileUploader.tsx#FileUploader"]={docgenInfo:FileUploader.__docgenInfo,name:"FileUploader",path:"components/FileUploader/FileUploader.tsx#FileUploader"})}catch(__react_docgen_typescript_loader_error){}var console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const FileUploader_stories={title:"Components/FileUploader",component:FileUploader_FileUploader,argTypes:{label:{control:"text",description:"Label for the file uploader.",table:{type:{summary:"string"}}},dropzoneText:{control:"text",description:"Text displayed in the dropzone area.",table:{type:{summary:"string"},defaultValue:{summary:"Drop files here to upload"}}},browseText:{control:"text",description:"Text displayed on the browse button.",table:{type:{summary:"string"},defaultValue:{summary:"Browse files"}}},maxSizeMB:{control:{type:"number"},description:"Maximum file size in megabytes.",table:{type:{summary:"number"},defaultValue:{summary:"5"}}},allowedTypes:{control:"object",description:"Allowed file types.",table:{type:{summary:"string[]"},defaultValue:{summary:"['image/*', 'application/pdf']"}}},styles:{control:"object",description:"Custom styles for different parts of the component.",table:{type:{summary:"Object"}}},onFileSelect:{action:"file selected",description:"Callback when a file is selected.",table:{type:{summary:"(file: File) => void"}}},onUploadProgress:{action:"upload progress",description:"Callback for upload progress.",table:{type:{summary:"(progress: number) => void"}}}},parameters:{docs:{description:{component:"The FileUploader component allows users to select and upload files with progress indication and error handling."}}}},Template=args=>(0,jsx_runtime.jsx)(FileUploader_FileUploader,{...args}),Default=Template.bind({});Default.args={label:"Upload your file",dropzoneText:"Drop files here to upload",browseText:"Browse files",maxSizeMB:5,allowedTypes:["image/*","application/pdf"]};const WithCustomStyles=Template.bind({});WithCustomStyles.args={label:"Custom Styled Uploader",dropzoneText:"Drop your files here",browseText:"Select files",styles:{container:"bg-gray-200 p-4 rounded-lg",dropzone:"bg-blue-200 border-blue-300",uploadIcon:"text-blue-700",dropzoneText:"text-blue-700",browseButton:"bg-blue-500 text-white"},maxSizeMB:10,allowedTypes:["image/*","application/pdf"]};const WithProgress=Template.bind({});WithProgress.args={label:"Upload with Progress",dropzoneText:"Drag and drop to upload",browseText:"Select file",onUploadProgress:progress=>console.log(`Upload Progress: ${progress}%`),maxSizeMB:5,allowedTypes:["image/*","application/pdf"]};const __namedExportsOrder=["Default","WithCustomStyles","WithProgress"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <FileUploader {...args} />",...Default.parameters?.docs?.source}}},WithCustomStyles.parameters={...WithCustomStyles.parameters,docs:{...WithCustomStyles.parameters?.docs,source:{originalSource:"args => <FileUploader {...args} />",...WithCustomStyles.parameters?.docs?.source}}},WithProgress.parameters={...WithProgress.parameters,docs:{...WithProgress.parameters?.docs,source:{originalSource:"args => <FileUploader {...args} />",...WithProgress.parameters?.docs?.source}}}}}]);